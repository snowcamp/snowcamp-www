---
import Layout from '../layouts/Layout.astro';
import { t } from "../i18n/i18n";
// import Redirect from '../layouts/Redirect.astro';
import cfp from '../data/cfp.json';
import DateTimeChangingChild from "../components/DateTimeChangingChild.astro";

---
<!-- Temporary redirect to the full schedule page
<Redirect target={cfp.dates.schedule.url.full}></Redirect>
 -->

 <Layout title={t('schedule_title')}>
    <section>
        <div style="height: 70px;"></div>
        <DateTimeChangingChild beginDate={new Date(cfp.dates.schedule.date).getTime()} refreshInterval="10000">
            <div slot="before" style="margin: 20px auto 0 auto; text-align: center; min-height: 500px;">
                {t('schedule_unavailable')}
            </div>

            <div slot="doing" style="margin: 20px auto 50px auto; width: 700px; text-align: center;">
                <p>{t('schedule_available')}
                    <br>{t('schedule_openfullschedule')}
                    <br><a href="/schedule-full/"><img src="/img/schedule.png" height="100px" ></a>
                </p>
                <p>{t('schedule_change')}</p>
                <div style="margin-top: 50px;">
                    <iframe
                    id="schedule_iframe"
                    title="Embedded schedule"
                    width="500"
                    height="900"
                    src={cfp.dates.schedule.url.embedded}>
                    </iframe>
                </div>
            </div>
        </DateTimeChangingChild>
    </section>
</Layout>
